<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Queue Management Control</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h1 id="sidebar-title">Queue Control</h1>
            </div>
            <ul class="sidebar-nav">
                <li><a href="#home" class="nav-link active" data-section="home">
                    <i id="home-icon">üè†</i><span id="home-text">Home</span>
                </a></li>
                <li><a href="#queues" class="nav-link" data-section="queues">
                    <i id="queues-icon">üìã</i><span id="queues-text">Queues</span>
                </a></li>
                <li><a href="#links" class="nav-link" data-section="links">
                    <i id="links-icon">üîó</i><span id="links-text">Links</span>
                </a></li>
                <li><a href="#config" class="nav-link" data-section="config">
                    <i id="config-icon">‚öôÔ∏è</i><span id="config-text">Config</span>
                </a></li>
            </ul>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Home Section -->
            <div id="home" class="content-section active">
                <div class="section-header">
                    <h2 id="system-status-title">System Status</h2>
                </div>
                
                <div class="status-grid">
                    <div class="status-item">
                        <div class="status-value" id="queue-status">-</div>
                        <div class="status-label">Queue Status</div>
                    </div>
                    <div class="status-item">
                        <div class="status-value" id="guest-count">-</div>
                        <div class="status-label">Guests in Queue</div>
                    </div>
                    <div class="status-item">
                        <div class="status-value" id="ready-pool">-</div>
                        <div class="status-label">Ready Pool</div>
                    </div>
                    <div class="status-item">
                        <div class="status-value" id="ready-pool-limit">-</div>
                        <div class="status-label">Ready Pool Limit</div>
                    </div>
                    <div class="status-item">
                        <div class="status-value" id="guests-in-venue">-</div>
                        <div class="status-label">Guests in Venue</div>
                    </div>
                    <div class="status-item">
                        <div class="status-value" id="venue-capacity">-</div>
                        <div class="status-label">Venue Capacity</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">Current Queue</div>
                    <div id="queue-list">Loading...</div>
                </div>
            </div>

            <!-- Queues Section -->
            <div id="queues" class="content-section">
                <div class="section-header">
                    <h2 id="queue-management-title">Queue Management</h2>
                </div>
                
                <!-- Top Row: Queue Controls, Daily Operations, Demo Mode -->
                <div class="queues-grid">
                    <div class="card">
                        <div class="card-header" id="queue-controls-header">Queue Controls</div>
                        <div class="queue-controls">
                            <button class="btn btn-success" id="open-queue">Open Queue</button>
                            <button class="btn btn-danger" id="close-queue">Close Queue</button>
                            <button class="btn btn-warning" id="reset-queue">Reset Queue</button>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">Daily Operations</div>
                        <div class="form-group">
                            <button onclick="dailyReset()" class="btn btn-danger">Daily Reset Queue</button>
                            <p class="help-text">Clears all guests from queue while preserving configuration. Use at start of business day.</p>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header" id="demo-mode-header">Demo Mode</div>
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                            <label for="mock-count-input" id="mock-guests-label">Number of mock guests:</label>
                            <input type="number" id="mock-count-input" min="1" max="100" style="width: 120px; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <button class="btn btn-primary" id="mock-guests-btn">Insert Mock Guests</button>
                            <button class="btn btn-warning" id="reset-mock-counter-btn">Reset Counter</button>
                        </div>
                        <p style="margin-top: 10px; color: #666; font-size: 0.9rem;" id="mock-guests-help">
                            Mock guests get unique names (mock0, mock1, mock2...). Use "Reset Counter" to start over from 0.
                        </p>
                    </div>
                </div>

                <!-- Bottom Row: Ready Queue, Premium Access, Venue Mode -->
                <div class="queues-grid">
                    <div class="card">
                        <div class="card-header">Ready Pool Configuration</div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <label for="ready-pool-input">Ready Pool Size:</label>
                            <input type="number" id="ready-pool-input" min="0" max="100" style="width: 80px; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <button class="btn btn-primary" id="set-ready-pool">Set</button>
                        </div>
                        <p style="margin-top: 10px; color: #666; font-size: 0.9rem;">
                            Set to 0 to disable ready pool. When enabled, the first N guests in the queue are considered "ready" and can be scanned in any order.
                        </p>
                    </div>

                    <div class="card">
                        <div class="card-header">Premium Access</div>
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                            <label>
                                <input type="checkbox" id="premium-access-toggle">
                                <span>Enable Premium Access</span>
                            </label>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                            <label for="premium-limit-input">Premium Limit:</label>
                            <input type="number" id="premium-limit-input" min="0" max="100" style="width: 100px; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <button class="btn btn-primary" id="set-premium-limit-btn">Update Premium Limit</button>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <label for="one-shot-price-input">One Shot Price ($):</label>
                            <input type="number" id="one-shot-price-input" min="0" max="1000" style="width: 100px; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <button class="btn btn-primary" id="set-one-shot-price-btn">Update One Shot Price</button>
                        </div>
                        <p style="margin-top: 10px; color: #666; font-size: 0.9rem;">
                            Premium access must be enabled AND premium limit must be >0 for the upgrade button to appear in the guest app.
                        </p>
                    </div>

                    <div class="card">
                        <div class="card-header">Venue Management</div>
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                            <label>
                                <input type="checkbox" id="venue-mode-toggle">
                                <span>Enable Venue Mode</span>
                            </label>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                            <label for="venue-capacity-input">Venue Capacity:</label>
                            <input type="number" id="venue-capacity-input" min="0" max="10000" style="width: 120px; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <button class="btn btn-primary" id="set-venue-capacity-btn">Update Venue Capacity</button>
                        </div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <button class="btn btn-warning" id="decrement-venue-btn">Remove Guest from Venue</button>
                            <span style="color: #666; font-size: 0.9rem;">Use this when a guest leaves the venue</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Links Section -->
            <div id="links" class="content-section">
                <div class="section-header">
                    <h2 id="application-links-title">Application Links</h2>
                </div>
                
                <div class="links-grid">
                    <div class="link-card">
                        <h3>Guest App</h3>
                        <div class="qr-code" id="guest-qr">QR Code will appear here</div>
                        <div class="link-url" id="guest-url">Loading...</div>
                        <button class="btn btn-primary" onclick="openGuestApp()">Open Guest App</button>
                    </div>
                    
                    <div class="link-card">
                        <h3>Attendant App</h3>
                        <div class="qr-code" id="attendant-qr">QR Code will appear here</div>
                        <div class="link-url" id="attendant-url">Loading...</div>
                        <button class="btn btn-primary" onclick="openAttendantApp()">Open Attendant App</button>
                    </div>
                    
                    <div class="link-card">
                        <h3>Clicker App</h3>
                        <div class="qr-code" id="clicker-qr">QR Code will appear here</div>
                        <div class="link-url" id="clicker-url">Loading...</div>
                        <button class="btn btn-primary" onclick="openClickerApp()">Open Clicker App</button>
                    </div>
                </div>
            </div>

            <!-- Config Section -->
            <div id="config" class="content-section">
                <div class="section-header">
                    <h2 id="site-config-title">Site Configuration</h2>
                </div>
                
                <div class="card">
                    <!--
                    <div class="card-header">Configuration Management</div>
                    <p>Use the interface below to manage site colors, text, and branding:</p>
                    -->
                    <iframe src="site_config_cms.html" class="config-iframe" title="Site Configuration"></iframe>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="static/config.js"></script>
    <script src="static/site_config.js"></script>
    <script src="static/shared_config.js"></script>
    <script>
        // Listen for messages from CMS iframe
        window.addEventListener('message', function(event) {
            if (event.data.type === 'configChanged') {
                handleConfigChange(event.data.config);
            }
        });
        
        // Handle configuration changes from CMS
        function handleConfigChange(config) {
            console.log('Configuration changed, updating CSS variables...');
            
            // Update CSS variables globally
            if (window.SharedConfig && window.SharedConfig.updateCSSVariables) {
                window.SharedConfig.updateCSSVariables(config);
            } else {
                // Fallback: manual CSS variable update
                updateCSSVariablesFallback(config);
            }
            
            // Store configuration for other components
            localStorage.setItem('currentSiteConfig', JSON.stringify(config));
            
            // Dispatch custom event for other components
            window.dispatchEvent(new CustomEvent('configChanged', {
                detail: { config: config }
            }));
            
            console.log('Configuration applied globally');
        }
        
        // Fallback CSS variable update function
        function updateCSSVariablesFallback(config) {
            const root = document.documentElement;
            
            if (config.colors) {
                Object.entries(config.colors).forEach(([key, value]) => {
                    if (value) {
                        root.style.setProperty(`--${key}-color`, value);
                    }
                });
            }
        }
        
        // Navigation functionality
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Remove active class from all links and sections
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
                
                // Add active class to clicked link
                this.classList.add('active');
                
                // Show corresponding section
                const sectionId = this.getAttribute('data-section');
                document.getElementById(sectionId).classList.add('active');
            });
        });

        // Helper function to get config values with fallbacks
        function getConfig(key, defaultValue = '') {
            try {
                const keys = key.split('.');
                let value = window.SITE_CONFIG || {};
                for (const k of keys) {
                    value = value[k];
                    if (value === undefined) return defaultValue;
                }
                return value || defaultValue;
            } catch (error) {
                console.warn('Error getting config for key:', key, error);
                return defaultValue;
            }
        }

        // API helper function
        function api(endpoint, options = {}) {
            const url = window.API_BASE + endpoint;
            console.log('API call:', url, options);
            return fetch(url, {
                headers: {
                    'Content-Type': 'application/json',
                },
                ...options
            }).then(response => {
                console.log('API response status:', response.status);
                if (response.ok) {
                    return response.json();
                } else {
                    throw new Error(`API error: ${response.status}`);
                }
            });
        }

        // Load initial data
        function loadStatus() {
            console.log('Loading status...');
            api('/status')
                .then(data => {
                    console.log('Status API response:', data);
                    // Fix: Map the correct API response fields to UI elements
                    document.getElementById('queue-status').textContent = data.is_open ? 'Open' : 'Closed';
                    document.getElementById('guest-count').textContent = data.queue ? data.queue.length : 0;
                    document.getElementById('ready-pool').textContent = data.ready_pool ? data.ready_pool.length : 0;
                    document.getElementById('ready-pool-limit').textContent = data.ready_pool_limit || 'Not Set';
                    document.getElementById('guests-in-venue').textContent = data.guests_in_venue || 0;
                    document.getElementById('venue-capacity').textContent = data.venue_capacity || 'Not Set';
                    
                    // Update queue list with proper data structure
                    const queueList = document.getElementById('queue-list');
                    if (data.queue && data.queue.length > 0) {
                        queueList.innerHTML = data.queue.map((guest, index) => 
                            `<div style="padding: 5px 0; border-bottom: 1px solid #eee;">
                                <strong>Position ${index}:</strong> ${guest.email} 
                                <span style="color: #666;">(${guest.guest_location})</span>
                                ${guest.premium ? '<span style="color: #ffc107; margin-left: 10px;">‚≠ê Premium</span>' : ''}
                            </div>`
                        ).join('');
                    } else {
                        queueList.innerHTML = '<em>No guests in queue</em>';
                    }
                })
                .catch(error => {
                    console.error('Error loading status:', error);
                    document.getElementById('queue-list').innerHTML = '<em>Error loading queue status</em>';
                    // Set error states for other elements
                    document.getElementById('queue-status').textContent = 'Error';
                    document.getElementById('guest-count').textContent = 'Error';
                    document.getElementById('ready-pool').textContent = 'Error';
                    document.getElementById('ready-pool-limit').textContent = 'Error';
                    document.getElementById('guests-in-venue').textContent = 'Error';
                    document.getElementById('venue-capacity').textContent = 'Error';
                });
        }

        // Queue control functions
        document.getElementById('open-queue').addEventListener('click', () => {
            console.log('Opening queue...');
            api('/open', { method: 'POST' })
                .then(response => {
                    console.log('Open queue response:', response);
                    loadStatus();
                })
                .catch(error => console.error('Error opening queue:', error));
        });

        document.getElementById('close-queue').addEventListener('click', () => {
            console.log('Closing queue...');
            api('/close', { method: 'POST' })
                .then(response => {
                    console.log('Close queue response:', response);
                    loadStatus();
                })
                .catch(error => console.error('Error closing queue:', error));
        });

        document.getElementById('reset-queue').addEventListener('click', () => {
            if (confirm('Are you sure you want to reset the queue? This will remove all guests.')) {
                console.log('Resetting queue...');
                api('/reset', { method: 'POST' })
                    .then(response => {
                        console.log('Reset queue response:', response);
                        loadStatus();
                    })
                    .catch(error => console.error('Error resetting queue:', error));
            }
        });

        // Ready pool control
        document.getElementById('set-ready-pool').addEventListener('click', () => {
            const limit = document.getElementById('ready-pool-input').value;
            api('/set-ready-pool-limit', {
                method: 'POST',
                body: JSON.stringify({ limit: parseInt(limit) })
            })
                .then(() => loadStatus())
                .catch(error => console.error('Error setting ready pool limit:', error));
        });

        // Load current ready pool limit
        function loadReadyPoolLimit() {
            console.log('Loading ready pool limit...');
            api('/status')
                .then(data => {
                    console.log('Ready pool limit data:', data);
                    if (data.ready_pool_limit) {
                        document.getElementById('ready-pool-input').value = data.ready_pool_limit;
                    }
                })
                .catch(error => console.error('Error loading ready pool limit:', error));
        }

        // Load all queue configuration values
        function loadQueueConfig() {
            console.log('Loading queue config...');
            api('/status')
                .then(data => {
                    console.log('Queue config data:', data);
                    // Load ready pool limit
                    if (data.ready_pool_limit) {
                        document.getElementById('ready-pool-input').value = data.ready_pool_limit;
                    }
                    
                    // Load premium limit
                    if (data.premium_limit !== undefined) {
                        document.getElementById('premium-limit-input').value = data.premium_limit;
                    }
                    
                    // Load premium access toggle
                    if (data.premium_access_enabled !== undefined) {
                        document.getElementById('premium-access-toggle').checked = data.premium_access_enabled;
                    }
                    
                    // Load one shot price
                    if (data.one_shot_price !== undefined) {
                        document.getElementById('one-shot-price-input').value = data.one_shot_price;
                    }
                    
                    // Load venue mode
                    if (data.venue_mode_enabled !== undefined) {
                        document.getElementById('venue-mode-toggle').checked = data.venue_mode_enabled;
                    }
                    
                    // Load venue capacity
                    if (data.venue_capacity !== undefined) {
                        document.getElementById('venue-capacity-input').value = data.venue_capacity;
                    }
                })
                .catch(error => console.error('Error loading queue config:', error));
        }

        // Demo mode functions
        document.getElementById('mock-guests-btn').addEventListener('click', () => {
            const count = document.getElementById('mock-count-input').value;
            if (count > 0) {
                api(`/mock-guests/${count}`, { method: 'POST' })
                    .then(() => {
                        loadStatus();
                        document.getElementById('mock-count-input').value = '';
                    })
                    .catch(error => console.error('Error adding mock guests:', error));
            }
        });

        document.getElementById('reset-mock-counter-btn').addEventListener('click', () => {
            if (confirm('Are you sure you want to reset the mock guest counter? This will remove all mock guests from the queue.')) {
                console.log('Resetting mock guest counter...');
                api('/reset-mock-counter', { method: 'POST' })
                    .then(() => {
                        console.log('Mock guest counter reset successful');
                        loadStatus();
                    })
                    .catch(error => console.error('Error resetting mock guest counter:', error));
            }
        });

        // Premium access functions
        document.getElementById('set-premium-limit-btn').addEventListener('click', () => {
            const limit = document.getElementById('premium-limit-input').value;
            if (limit >= 0) {
                api('/set-premium-limit', {
                    method: 'POST',
                    body: JSON.stringify({ limit: parseInt(limit) })
                })
                    .then(() => loadStatus())
                    .catch(error => console.error('Error setting premium limit:', error));
            }
        });

        document.getElementById('premium-access-toggle').addEventListener('change', () => {
            const enabled = document.getElementById('premium-access-toggle').checked;
            api('/set-premium-access', {
                method: 'POST',
                body: JSON.stringify({ enabled })
            })
                .then(() => loadStatus())
                .catch(error => console.error('Error toggling premium access:', error));
        });

        document.getElementById('set-one-shot-price-btn').addEventListener('click', () => {
            const price = document.getElementById('one-shot-price-input').value;
            if (price >= 0) {
                api('/set-one-shot-price', {
                    method: 'POST',
                    body: JSON.stringify({ price: parseInt(price) })
                })
                    .then(() => loadStatus())
                    .catch(error => console.error('Error setting one shot price:', error));
            }
        });

        // Venue management functions
        document.getElementById('venue-mode-toggle').addEventListener('change', () => {
            const enabled = document.getElementById('venue-mode-toggle').checked;
            api('/set-venue-mode', {
                method: 'POST',
                body: JSON.stringify({ enabled })
            })
                .then(() => loadStatus())
                .catch(error => console.error('Error toggling venue mode:', error));
        });

        document.getElementById('set-venue-capacity-btn').addEventListener('click', () => {
            const capacity = document.getElementById('venue-capacity-input').value;
            if (capacity >= 0) {
                api('/set-venue-capacity', {
                    method: 'POST',
                    body: JSON.stringify({ capacity: parseInt(capacity) })
                })
                    .then(() => loadStatus())
                    .catch(error => console.error('Error setting venue capacity:', error));
            }
        });

        // Decrement venue count
        document.getElementById('decrement-venue-btn').addEventListener('click', () => {
            api('/decrement-venue', { method: 'POST' })
                .then(() => loadStatus())
                .catch(error => console.error('Error decrementing venue:', error));
        });

        // Daily reset function
        function dailyReset() {
            if (confirm('Are you sure you want to perform a daily reset? This will clear all guests from the queue while preserving configuration.')) {
                console.log('Performing daily reset...');
                api('/daily-reset', { method: 'POST' })
                    .then(() => {
                        console.log('Daily reset successful');
                        loadStatus();
                    })
                    .catch(error => {
                        console.error('Error performing daily reset:', error);
                        alert(getConfig('text.failedDailyReset', 'Failed to perform daily reset. Please try again.'));
                    });
            }
        }

        // Update URLs and QR codes
        function updateLinks() {
            const baseUrl = window.location.origin + window.location.pathname.replace('unified_control_app.html', '');
            
            // Guest app
            document.getElementById('guest-url').textContent = baseUrl + 'guest_web_app.html';
            
            // Attendant app
            document.getElementById('attendant-url').textContent = baseUrl + 'attendant_web_app.html';
            
            // Clicker app
            document.getElementById('clicker-url').textContent = baseUrl + 'clicker_web_app.html';
            
            // TODO: Generate QR codes for each URL
            // For now, we'll show placeholder text
        }

        // App opening functions
        function openGuestApp() {
            window.open('guest_web_app.html', '_blank');
        }

        function openAttendantApp() {
            window.open('attendant_web_app.html', '_blank');
        }

        function openClickerApp() {
            window.open('clicker_web_app.html', '_blank');
        }

        // Legacy admin panel function
        function openLegacyAdmin() {
            window.open('admin_control_panel.html', '_blank');
        }

        // Apply site configuration to UI elements
        function applySiteConfig() {
            try {
                // Sidebar title
                if (document.getElementById('sidebar-title')) {
                    document.getElementById('sidebar-title').textContent = getConfig('text.unifiedControlTitle', 'Queue Control');
                }
                
                // Navigation items
                if (document.getElementById('home-text')) {
                    document.getElementById('home-text').textContent = getConfig('text.homeSection', 'Home');
                }
                if (document.getElementById('queues-text')) {
                    document.getElementById('queues-text').textContent = getConfig('text.queuesSection', 'Queues');
                }
                if (document.getElementById('links-text')) {
                    document.getElementById('links-text').textContent = getConfig('text.linksSection', 'Links');
                }
                if (document.getElementById('config-text')) {
                    document.getElementById('config-text').textContent = getConfig('text.configSection', 'Config');
                }
                
                // Navigation icons
                if (document.getElementById('home-icon')) {
                    document.getElementById('home-icon').textContent = getConfig('text.homeIcon', 'üè†');
                }
                if (document.getElementById('queues-icon')) {
                    document.getElementById('queues-icon').textContent = getConfig('text.queuesIcon', 'üìã');
                }
                if (document.getElementById('links-icon')) {
                    document.getElementById('links-icon').textContent = getConfig('text.linksIcon', 'üîó');
                }
                if (document.getElementById('config-icon')) {
                    document.getElementById('config-icon').textContent = getConfig('text.configIcon', '‚öôÔ∏è');
                }
                
                // Section headers
                if (document.getElementById('system-status-title')) {
                    document.getElementById('system-status-title').textContent = getConfig('text.systemStatus', 'System Status');
                }
                if (document.getElementById('queue-management-title')) {
                    document.getElementById('queue-management-title').textContent = getConfig('text.queueManagement', 'Queue Management');
                }
                if (document.getElementById('application-links-title')) {
                    document.getElementById('application-links-title').textContent = getConfig('text.applicationLinks', 'Application Links');
                }
                if (document.getElementById('site-config-title')) {
                    document.getElementById('site-config-title').textContent = getConfig('text.siteConfiguration', 'Site Configuration');
                }
                
                // Card headers
                if (document.getElementById('queue-controls-header')) {
                    document.getElementById('queue-controls-header').textContent = getConfig('text.queueControls', 'Queue Controls');
                }
                if (document.getElementById('demo-mode-header')) {
                    document.getElementById('demo-mode-header').textContent = getConfig('text.demoMode', 'Demo Mode');
                }
                
                // Labels and help text
                if (document.getElementById('mock-guests-label')) {
                    document.getElementById('mock-guests-label').textContent = getConfig('text.mockGuestsLabel', 'Number of mock guests:');
                }
                if (document.getElementById('mock-guests-help')) {
                    document.getElementById('mock-guests-help').textContent = getConfig('text.mockGuestsHelp', 'Mock guests get unique names (mock0, mock1, mock2...). Use "Reset Counter" to start over from 0.');
                }
                
                console.log('Site configuration applied successfully');
            } catch (error) {
                console.error('Error applying site configuration:', error);
            }
        }

        // Initialize the app
        function init() {
            console.log('Initializing unified control app...');
            console.log('API_BASE:', window.API_BASE);
            
            // Apply site configuration first
            applySiteConfig();
            
            loadStatus();
            loadReadyPoolLimit();
            loadQueueConfig(); // Load all queue config values
            updateLinks();
            
            // Refresh status every 30 seconds
            setInterval(loadStatus, 30000);
            
            console.log('Unified control app initialized');
        }

        // Start the app when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
